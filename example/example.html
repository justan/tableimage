<!DOCTYPE HTML>
<html lang="zh-CN">
<head>
	<meta charset="UTF-8">
	<title>tableImage example</title>
  <script type="text/javascript" src="../lib/tableimage.js"></script>
  <script type="text/javascript">
  </script>
</head>
<body>
	<img id="pic" alt="github-logo" />
  <div id="out"></div>
<script type="text/javascript">
var doSth;
(function(){
  function convert(url){
    var img = document.getElementById('pic')
      , out = document.getElementById('out');
      
    img.onload = function(){
      var table = tableImage.convert(img, {
          ignoreOldIE: true
        , background: [255, 255, 255]
        , maxWidth: 90
        , maxHeight: 80
      });
      out.innerHTML = table;
    };
    img.onerror = function(){
      out.innerHTML = 'image load failed';
    };
    img.crossOrigin = '';
    img.src = url;
  }  
  doSth = function(){
    var url = document.getElementById('picUrl').value;
    convert(url);
  };
  
  convert('taiji.png');
})();
</script>
</body>
</html>